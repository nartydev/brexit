<%- include('partials/head'); %>
<body>
    <% for (var i=0; i < 10; i++) { %>
    <div class="container-question">
        <div class="overflow size-font-small">
            <div class="content-number-question">Question nÂ°<%- i +1 %></div>
        </div>
        <div class="overflow">
            <div class="question-title"><%- datas[i].question %></div>
        </div>
    </div>
    <% } %>
    <%- include('timeline'); %>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
    <script>
    const socket = io.connect();
    let idSocket

    const quizContainer = [... document.querySelectorAll('.container-question')]
    const interRound = [... document.querySelectorAll('.inter-round')]

    quizContainer[0].classList.add('active')
    
    socket.on('questionValue', _data => {
        console.log(_data)
        // define id
        if(_data.id == 1) {
            idSocket = _data.idSocket;
        } 
        // question next
        if(idSocket == _data.idSocket && _data.id < 11) {
            quizContainer[_data.id-1].classList.remove('active')
            quizContainer[_data.id-1].classList.add('active-last')
            quizContainer[_data.id].classList.add('active')
            interRound[_data.id].classList.add('inter-round--active')
        }
        // success
        if(_data.success) {
            console.log('ok finish')
        }
    })
    </script>
</body>
</html>
  